/* eslint-disable */
import{v as e}from"../_includes/dester-inject-String.mjs";import{v as t}from"../_includes/dester-inject-JSON.mjs";import{stringifyTokens as n,trimTokens as r,prevRealTokenIndex as i,nextRealTokenIndex as u}from"../jsx2tokens/index.mjs";import{chunkifyArrayBy as s}from"../utilites/index.mjs";import{jsx2tokens as a,TOKEN_TYPES as o}from"jsx2tokens";function l(e){var t={nbsp:"Â ",amp:"&",quot:'"',lt:"<",gt:">"};return e.replace(/&(nbsp|amp|quot|lt|gt);/g,(function(e,n){return t[n]||e}))}function f(t){return s(t,(function(e,t,n){var r,s=n[0].deep,a=e.deep,l=e.type,f=e.value;if(a===s&&((l===o.SPACE||/^[,;]$/.test(f))&&((r=i(n,t))<0||"="!==n[r].value)&&((r=u(n,t))<0||"="!==n[r].value)))return!0;return!1}),void 0,!0).map((function(e){return s(r(e),(function(e,t,n){var r=n[0].deep,i=e.deep,u=e.value;return i===r&&"="===u}),void 0,!0).map((function(e){return n(r(e))}))})).filter(e)}function p(e){return/^[$_a-z][$\w]*$/i.test(e)?e:t(e)}function c(e){var t=!1,n=0;return a(e,{useJSX:!0,proxy:function(e,r,u){if(e.type===o.PUCNTUATOR){if(0===n&&/^[.([]$/.test(e.value)&&(r=i(u,r))>-1&&(u[r].type!==o.PUCNTUATOR||/^[.})\]!]$/.test(u[r].value)))return t=!0;"("===e.value?n++:")"===e.value&&n--}return!1}}),t}function v(e,i){var u=e[e.length-1].type===o.JSX_TAG_OPENER_END_CHILDLESS,s=e.length;if(!u){for(;e.pop().type!==o.JSX_TAG_CLOSER_START&&e.length;);for(s=0;e[s++].type!==o.JSX_TAG_OPENER_END&&e.length;);}var v=f(e.splice(0,s).slice(0,-1)),h=v[0]&&v[0].length<2&&v.shift()[0]||"r-fragment";h&&"r-fragment"!==h?/^[a-z][a-zA-Z0-9-]*$/.test(h)&&(h='"'+h+'"'):h='""';for(var m,S,_,g=["{"],E=["{"],d=E,T=0;T<v.length;T++)if(m=v[T][0])if("{"===m[0])(m=(m=n(r(a(m.slice(1,-1).trim(),{useJSX:!0})))).replace(/^\.\.\./,"").trim())&&(g[g.length-1]+="}",g.push(m,"{"));else{if((_="{"===(S=v[T][1]||"")[0])&&(S=S.slice(1,-1)),!S){if("r"===m[0]&&"-"===m[1])continue;S="true"}"className"===m&&(m="class"),(d="r"!==(m=p(m))[1]||"-"!==m[2]||"o"===m[3]&&"n"===m[4]&&"-"===m[5]?g:E)[d.length-1]+="r"===m[0]&&"-"===m[1]||!_||d===E&&'"r-is"'!==m||!c(S)?" "+m+": "+S+",":" get "+m+"() { return ("+S+") },"}g[g.length-1]+="}",g=g.filter((function(e){return"{}"!==e})).map((function(e){return e.replace(/,\}$/," }")})),E[E.length-1]+="}",E=E.filter((function(e){return"{}"!==e})).map((function(e){return e.replace(/,\}$/," }")}));var y=g.join(", ")||"null";g.length>1&&(i.union.need=!0,y=i.union.v+"("+y+")");for(var N,X=[[h,""],[y+=", "+(E.join(", ")||"null"),""]],R=0;R<e.length;R++)switch((N=e[R]).type){case o.JSX_TEXT:var J="",$="",A=N.value,O=A.match(/^\s*\n\s*/);O&&(J=O[0],A=A.slice(J.length)),(O=A.match(/\s*\n\s*$/))&&($=O[0],A=A.slice(0,-$.length)),A?X.push([J+t(l(A)),$]):X[X.length-1][1]+=J+A+$;break;case o.JSX_EXPRESSION_START:for(s=R;e[++s].type!==o.JSX_EXPRESSION_END;);var j=e.splice(R+1,s-R).slice(0,-1),P=n(j);c(P)&&(i.sys$.need=!0,P=i.sys$.v+"(() => ("+P+"))"),r(j).length?X.push([P,""]):X[X.length-1][1]+=P;break;default:X.push([N.value,""])}for(var D,I="",x=0;x<X.length;)I+=(D=X[x++])[0],x<X.length&&(I+=", "),I+=D[1];return I}function h(e,t){var r=void 0===t?{}:t,i=r.useJSX,u=void 0===i||i,s=r.importPath,l=void 0===s?"rease":s;if(!u)return e;for(var f={},p=a(e,{useJSX:u,proxy:function(e){e.type===o.IDENTIFIER&&(f[e.value]=!0)}}),c=0,h="h";h+c in f;)c++;h+=c;for(var m="sys$";m+c in f;)c++;m+=c;for(var S="union";S+c in f;)c++;for(var _={h:{need:!1,v:h},sys$:{need:!1,v:m},union:{need:!1,v:S+=c}},g=[],E=0;E<p.length;E++)switch(p[E].type){case o.JSX_TAG_OPENER_START:_.h.need=!0,g.push(E);break;case o.JSX_TAG_OPENER_END_CHILDLESS:case o.JSX_TAG_CLOSER_END:var d=g.pop(),T=v(p.splice(d+1,E-d),_);p[E=d].value=_.h.v+"("+T+")",p[E].type=o.MODIFIER}var y="";for(var N in _)_[N].need&&(y+="import { "+N+" as "+_[N].v+' } from "'+l+'";\n');return y+n(p)}export{h as jsx};
