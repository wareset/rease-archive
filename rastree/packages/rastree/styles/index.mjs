/* eslint-disable */
import{v as e}from"../_includes/dester-inject-JSON.mjs";import{jsx2tokens as n,TOKEN_TYPES as t}from"jsx2tokens";import{safeRemoveQuotes as r}from"../utilites/index.mjs";import{isStorefyForExpo as s}from"../storefy/index.mjs";import"../jsx2tokens/index.mjs";var i={BRACE:"Brace",AT_RULE_LINE:"AtRuleLine",AT_RULE_BLOCK:"AtRuleBlock",SELECTOR:"Selector",KEYFRAME:"Keyframe",ATTRIBUTE:"Attribute"};function a(n){return e(n).slice(1,-1)}function l(e){for(var n,t=e.length;t-- >0&&void 0===(n=e[t]););return n}function u(e){return e.replace(/\s$/,"")}function o(e){for(var n,t,r=[],s="",i=-1;++i<e.length;)(t=e[i])&&("@"!==t[0]?s=t:(/^@media\b/.test(t)&&(null!=n&&r.splice(n,1),n=r.length),r.push(t)));return s&&r.push(s),r}function c(e,n,t){e.push([n,t])}function f(f,h,E,p){if("`"!==(f=f.trim())[0])throw f;for(var R={},g=n(f,{useJSX:!1,proxy:function(e){e.type===t.IDENTIFIER&&(R[e.value]=!0)}}),v=0,T="_s";T+v in R;)v++;T+=v;for(var A="_p";A+v in R;)v++;A+=v;var d=0,m=g[0].deep,L={},k=null;f="";for(var b,B=g.length;B-- >0;)(b=g[B]).deep===m?(k=null,f=(b.value=r(b.value))+f):null==k?(b.type=t.MODIFIER,L[k="%REASE%PROP%"+d+++"%"]=b.value,f=(b.value=k)+f):(g.splice(B,1),L[k]=b.value+L[k]);var C=[],_=[],j=[],S=[],I={},O=[];!function(e,n){var t,r,s,a,l=[],o=e.length,c=!0,f=c,h=0,E="",p=0,R=[],g=-1,v=!1;function T(e){var t;((E=u(E))&&R.push(E)||R.length)&&("@"===R[0][0]?(E=R.shift(),(s=E.match(/@[\w-]+/)[0].length)<E.length-1&&R.unshift(E.slice(" "===E[s]?s+1:s)),R.unshift(E.slice(0,s)),e=e===i.SELECTOR?(!v&&"@keyframes"===R[0]&&(v=!0,g=p),i.AT_RULE_BLOCK):i.AT_RULE_LINE):v&&(e===i.BRACE&&"}"===R[0]&&p<=g?v=!1:e===i.SELECTOR&&(e=i.KEYFRAME)),e===i.ATTRIBUTE&&(t=R).unshift.apply(t,R.shift().split(/(:)/)),l.push({deep:p,type:e,data:R}),E="",R=[],n&&n(l[l.length-1],l.length,l))}for(var A=-1;++A<o;)if((f=c)!==(c=!(t=e[A]).trim()&&(t=" ",!0))||!c)switch(t){case"{":E=u(E),c=!0,h?E+=t:(T(i.SELECTOR),E=t,T(i.BRACE),p++);break;case"}":E=u(E),c=!0,h?E+=t:(T(i.ATTRIBUTE),p>0&&p--,E=t,T(i.BRACE));break;case";":E=u(E),c=!0,h?E+=t:T(i.ATTRIBUTE);break;case"(":h++;case"[":c=!0,h<2&&(E&&R.push(E),E=""),E+=t;break;case")":h--;case"]":E=u(E)+t,h||(R.push(E),E="");break;case",":c=!0,E=u(E),h?E+=t:(E&&R.push(E),R.push(t),E="");break;case":":case"=":c=!0,E=u(E)+t;break;case"`":case"'":case'"':for(E+=t,a=!1;++A<o&&(E+=e[A],a||e[A]!==t);a=!a&&"\\"===e[A]);break;case"/":if("*"===(r=e[A+1])){for(r=E,E=t,c=f;++A<o&&!((E+=e[A]).length>3&&"/"===e[A]&&"*"===e[A-1]););E=r}else if("/"===r){for(r=E,E=t,c=f;++A<o&&(E+=e[A],/[^\r\n\u2028\u2029]/.test(e[A])););E=r}else t&&(E+=t);break;default:E+=t}T(i.ATTRIBUTE)}(f,(function(e){var n=e.deep,t=e.type,r=e.data;switch(t){case i.BRACE:"}"===r[0]&&(C.length=_.length=j.length=n,C[n]=_[n]=j[n]=void 0);break;case i.SELECTOR:C[n]=void 0,C[n]=function(e,n){for(var t,r,s=[],i=[],a=!1,l=e.length,u=-1;u++<l;)if(u===l||","===(r=e[u])){a||(i[0]&&!/^[|>+~\s]/.test(i[0])&&i.unshift(" "),i.unshift("&"));for(var o=-1;++o<n.length;)t=i.map((function(e){return"&"===e?this[0]:e}),[n[o]]).join("").replace(/^[\s,&|>+~]+|[\s,&|>+~]+$/g,""),t&&s.push(t);a=!1,i=[]}else if("("===r[0]||"["===r[0])i.push(r);else for(var c=r.split(/(&)|\s*([|>+~\s])\s*/),f=-1;++f<c.length;)c[f]&&("&"===(r=c[f])?a=!0:r=r.replace(/\.?\$(\w+)/g,"%REASE%SELECTOR%$1"),i.push(r));return s}(r,l(C)||[""]),j[n]=l(C).join(",");break;case i.KEYFRAME:j[n]=r.join("");break;case i.AT_RULE_BLOCK:if("@media"===r[0])_[n]=void 0,_[n]=function(e,n){for(var t,r,s=[],i=[],a=e.length,l=-1;l++<a;)if(l===a||","===(r=e[l])){if(t=i.join(""))for(var u=-1;++u<n.length;)s.push(n[u]?n[u]+" and "+t:t);i=[]}else i.push(r);return s}(r.slice(1),l(_)||[""]),j[n]=r[0]+" "+l(_).join(",");else j[n]=r[0]+(r.length>1?" "+r.slice(1).join(""):"");break;case i.AT_RULE_LINE:c(S,o(j),a(r[0]+(r.length>1?" "+r.slice(1).join(""):"")));break;case i.ATTRIBUTE:c(S,o(j),a(r.join("")).replace(/^\s*(\w[\w-]*)\s*:/,(function(e,n){return n in I||(I[n]=O.length,O.push(n)),'"+'+A+"["+I[n]+']+"'})))}}));var U,y='"'+function(e){for(var n,t,r="",s=[],i=0,l=-1;l++<e.length;){var u=e[l]||[[],""];for(n=u[0],t=u[1],i=s.length;i>0&&""+s.slice(0,i)!=""+n.slice(0,i);)";"===r[r.length-1]&&(r=r.slice(0,-1)),r+="}",i--;for(;i<n.length;i++)r+=a(n[i])+"{";t&&(r+=t+";"),s=n}return r}(S)+'"',w={},x=[];for(var K in h=function(e){for(var n=function(e){for(var n,t=1,r=(e+="").length,s=r/99|0||1,i=0;i<r;i+=s)13===(n=e.charCodeAt(i))?i-=s-1:(t+=n*t*997/(n+t)+.0001002707309736288)>0&&(t-=0|t);return t}(e).toString(36).slice(2)||"0";n.length<9;)n+=n;return n=n.slice(0,9),/\d/.test(n[0])&&(n="h"+n.slice(0,8)),n}(h+f),y=y.replace(/%REASE%SELECTOR%(\w+)/g,(function(e,n){return n in w||(w[n]=x.length,x.push(n)),'."+'+T+"+"+w[n]+'+"'})),L)s(U=p(L[K]))||(L[K]="("+U+")!!");return y=function(e,n){return e.replace(/(%REASE%PROP%\d+%)/g,(function(e,t){return t in n?'"+('+n[t]+')+"':t})).trim()}(y,L),y=p(y=y.replace(/""\s*\+\s*/g,"")),'{\n  id: "'+h+'",\n  _: ('+A+(x.length?", "+T:"")+") => ("+y+"),\n  on() {\n    "+E+"(\n      this,\n      "+e(x)+",\n      "+e(O)+"\n    )\n  }\n}"}export{f as styles};
