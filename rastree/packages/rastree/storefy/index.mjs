/* eslint-disable */
import{trimTokens as e,prevRealTokenIndex as t,stringifyTokens as r,trimCircleBrackets as n}from"../jsx2tokens/index.mjs";import{jsx2tokens as i,TOKEN_TYPES as o}from"jsx2tokens";import"../utilites/index.mjs";function u(e,t,n,i){for(var u,p=e[t].deep,v=t++,f=p;v-- >0&&!(p>(u=e[v]).deep)&&(p!==f||u.type!==o.PUCNTUATOR||/^[.})\]!]$/.test(u.value));)f=u.deep;for(v++;e[v]&&("!"===e[v].value||e[v].type===o.SPACE||e[v].type===o.COMMENT_LINE||e[v].type===o.COMMENT_BLOCK);)v++;var a=r(e.splice(v,t-v-1))+e[v].value,l=n.indexOf(a);return l<0&&(l=n.length,n.push(a)),e[v].value=i+"["+l+"]",v}function p(p,v,f){void 0===f&&(f=!0);for(var a={},l=e(i(p,{useJSX:f,proxy:function(e){e.type===o.IDENTIFIER&&(a[e.value]=!0)}})),s=0,d="_$";d+s in a;)s++;d+=s;for(var m,x,c,O=[],y=l.length;y-- >0;)y&&"!"===l[y].value&&(m=t(l,y))>-1&&"!"===l[m].value&&(m=t(l,m))>-1&&l[m].deep===l[y].deep&&((x=l[m])&&(x.type!==o.PUCNTUATOR||!/[^.})\]!]$/.test(x.value)))&&(l.splice(m+1,y-m),y=u(l,m,O,d));var T=0;if(O.length){T++;var C=r(n(l)).trim();1===O.length&&d+"[0]"===C?c=O[0]:(c=v+"(["+O.join(", ")+"], ("+d+") => ("+C+"))",T++)}else c=r(l).trim();return[c,T]}var v="/*r2.$*/",f="/*r1.$*/";function a(e,t,r){void 0===t&&(t="_$"),void 0===r&&(r=!0);for(var n=1,i=0,o=[e,i];(o=p(o[0],t,r))[1]&&n++<99;)i=i>o[1]?i:o[1];return i&&(o[0]=(i>1?v:f)+o[0]),o[0]}function l(e){return 0===(e+="").indexOf(v)}function s(e){return 0===(e+="").indexOf(f)||l(e)}export{f as STOREFY_COMMENT_MARKER_MAYBE,v as STOREFY_COMMENT_MARKER_STRICT,l as isStorefy,s as isStorefyForExpo,a as storefy,p as storefyExpression};
