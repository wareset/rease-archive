import t from'@wareset-utilites/string/localeCompare';import e from'@wareset-utilites/lang/jsonStringify';import r from'@wareset-utilites/string/toUppercase';import s from'@wareset-utilites/array/forEachRight';import i from'@wareset-utilites/array/forEachLeft';import n from'@wareset-utilites/array/findIndexLeft';import o from'@wareset-utilites/array/includes';import a from'@wareset-utilites/is/isArray';import $ from'@wareset-utilites/string/startsWith';import l from'@wareset-utilites/is/isObjectStrict';import m from'@wareset-utilites/object/keys';import c from'@mdn/browser-compat-data';import{join as A,dirname as E}from'path';import{mkdirSync as p,writeFileSync as T}from'fs';o(process.execArgv,'--inspect')&&(console.clear(),setTimeout((()=>{console.log('Inspect close')}),1e3*60*60));const f={'\r':'R$','\n':'N$','':'EMPTY$',' ':'SPACE$','!':'EXCLAMATION$','"':'DOUBLE_QUOTE$','#':'SHARP$',$:'DOLLAR$','%':'PERCENT$','&':'AMPERSAND$','\'':'SINGLE_QUOTE$','(':'LEFT_PARENTHSIS$',')':'RIGTH_PARENTHSIS$','*':'ASTERISK$','+':'PLUS$',',':'COMMA$','-':'DASH$','.':'DOT$','/':'SLASH$',':':'COLON$',';':'SEMICOLON$','<':'LESS_THAN$','=':'EQUALS_TO$','>':'GREATER_THAN$','?':'QUESTION$','@':'AT$','[':'LEFT_SQUARE_BRACKET$','\\':'BACKSLASH$',']':'RIGHT_SQUARE_BRACKET$','^':'CARET$',_:'_$','`':'BACK_QUOTE$','{':'LEFT_CURLY_BRACE$','|':'VERTICAL_BAR$','}':'RIGHT_CURLY_BRACE$','~':'TILDE$'},R=m(f),S='__compat',_={':on':1,':use':1,':tag':1,':type':1,':tagName':1,':action':1,':spread':1,':args':1,':arguments':1,'\r\n':1,'\r\n\r\n':1,'\r\n\r\n\r\n':1,'\r\n\r\n\r\n\r\n':1,'\n\n':1,'\n\n\n':1,'\n\n\n\n':1,'  ':1,'   ':1,'    ':1,'--':1,'---':1,'----':1};i(R,(t=>{_[t]=1}));const u='abcdefghijklmnopqrstuvwxyz';i([...'0123456789'+u+r(u)],(t=>{_[t]=1}));const L=t=>{i(m(t),(e=>{const r=t[e];e&&e!==S&&l(r)&&(L(r),[...e].every((t=>/^\w$/.test(t)||o(R,t)))&&(_[e]=1,/^on[a-z]+/.test(e)?_[e.slice(2)]=1:i(e.split(/\d+|[^a-zA-Z]+|((?:[A-Z]*[a-z]+)(?=[^a-z]))/),(t=>{t&&t[1]&&(_[t]=1)}))))}))};L(c);const d=m(_).sort(((e,r)=>r.length-e.length||t(r,e))),g=t=>'$$'+[...t].map((t=>f[t]||t)).join(''),C=(t,e)=>{e+=1,i(t,((r,i)=>{if(!a(r)&&!$(r,'$$')){const a=n(d,(t=>o(r,t)),e);if(a>-1){const e=d[a],n=[],o=g(e);s(r.split(e),((t,e)=>{t&&n.unshift(t),e&&n.unshift(o)})),t[i]=n,C(n,a)}else r[1]}}))},O={};i(d,((t,e)=>{const r=[t];O[t]=r,C(r,e)}));const w=t=>{let r='';return i(t,(t=>{a(t)?t=w(t):$(t,'$$')||(t=e(t)),r&&(r+=' + '),r+=t})),r};let I=`/* eslint-disable prettier/prettier */\n/* eslint-disable camelcase */\n/* eslint-disable no-var */\n/* eslint-disable quotes */\n\n`;s(d,(t=>{let e=w(O[t]);(O[t][1]||a(O[t][0])&&O[t][0][1])&&(e='('+e+')'),I+=`export var ${g(t)} = ${e} as ${w([t])}\n`}));const N=A(E(E(__dirname)),'src-data','index.ts');p(E(N),{recursive:!0}),T(N,I),console.log('data has been generated');
